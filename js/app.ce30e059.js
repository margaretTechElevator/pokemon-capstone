(()=>{"use strict";var e={5866:(e,t,r)=>{r(6992),r(8674),r(9601),r(7727);var o=r(144),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:{name:"home"}}},[e._v("Home")]),e._v(" |  "),t("router-link",{attrs:{to:{name:"pokemon"}}},[e._v("List all Pokemon")]),e._v(" |  "),""!=e.$store.state.token?t("router-link",{attrs:{to:{name:"logout"}}},[e._v("Logout")]):e._e()],1),t("router-view")],1)},s=[],a=r(1001),i={},u=(0,a.Z)(i,n,s,!1,null,null,null);const l=u.exports;r(5212),r(1539);var m=r(8345),c=function(){var e=this;e._self._c;return e._m(0)},p=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("h1",[e._v("Home")]),t("p",[e._v("You must be authenticated to see this")])])}];const d={name:"home"},v=d;var g=(0,a.Z)(v,c,p,!1,null,null,null);const f=g.exports;var h=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"login"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.login.apply(null,arguments)}}},[t("h1",[e._v("Please Sign In")]),e.invalidCredentials?t("div",{attrs:{role:"alert"}},[e._v(" Invalid username and password! ")]):e._e(),this.$route.query.registration?t("div",{attrs:{role:"alert"}},[e._v(" Thank you for registering, please sign in. ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Sign in")]),t("p",[t("router-link",{attrs:{to:{name:"register"}}},[e._v("Need an account? Sign up.")])],1)])])},_=[],k=(r(7658),r(9669)),w=r.n(k);const P={login:function(e){return w().post("/login",e)},register:function(e){return w().post("/register",e)}},b={name:"login",components:{},data:function(){return{user:{username:"",password:""},invalidCredentials:!1}},methods:{login:function(){var e=this;P.login(this.user).then((function(t){200==t.status&&(e.$store.commit("SET_AUTH_TOKEN",t.data.token),e.$store.commit("SET_USER",t.data.user),e.$router.push("/"))}))["catch"]((function(t){var r=t.response;401===r.status&&(e.invalidCredentials=!0)}))}}},y=b;var E=(0,a.Z)(y,h,_,!1,null,"4c82f443",null);const x=E.exports;var S=function(){var e=this,t=e._self._c;return t("h1",[e._v("Logout")])},$=[];const O={created:function(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},A=O;var T=(0,a.Z)(A,S,$,!1,null,null,null);const I=T.exports;var N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center",attrs:{id:"register"}},[t("form",{on:{submit:function(t){return t.preventDefault(),e.register.apply(null,arguments)}}},[t("h1",[e._v("Create Account")]),e.registrationErrors?t("div",{attrs:{role:"alert"}},[e._v(" "+e._s(e.registrationErrorMsg)+" ")]):e._e(),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],attrs:{type:"text",id:"username",required:"",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"password"}},[e._v("Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],attrs:{type:"password",id:"password",required:""},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("div",{staticClass:"form-input-group"},[t("label",{attrs:{for:"confirmPassword"}},[e._v("Confirm Password")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.confirmPassword,expression:"user.confirmPassword"}],attrs:{type:"password",id:"confirmPassword",required:""},domProps:{value:e.user.confirmPassword},on:{input:function(t){t.target.composing||e.$set(e.user,"confirmPassword",t.target.value)}}})]),t("button",{attrs:{type:"submit"}},[e._v("Create Account")]),t("p",[t("router-link",{attrs:{to:{name:"login"}}},[e._v("Already have an account? Log in.")])],1)])])},Z=[];const C={name:"register",data:function(){return{user:{username:"",password:"",confirmPassword:"",role:"user"},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register:function(){var e=this;this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Password & Confirm Password do not match."):P.register(this.user).then((function(t){201==t.status&&e.$router.push({path:"/login",query:{registration:"success"}})}))["catch"]((function(t){var r=t.response;e.registrationErrors=!0,400===r.status&&(e.registrationErrorMsg="Bad Request: Validation Errors")}))},clearErrors:function(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},q=C;var V=(0,a.Z)(q,N,Z,!1,null,"e240d848",null);const U=V.exports;r(8862);var L=r(629);o.ZP.use(L.ZP);var B=localStorage.getItem("token"),F=JSON.parse(localStorage.getItem("user"));null!=B&&(w().defaults.headers.common.Authorization="Bearer ".concat(B));const R=new L.ZP.Store({state:{token:B||"",user:F||{},startingVal:0,endingVal:20},mutations:{SET_AUTH_TOKEN:function(e,t){e.token=t,localStorage.setItem("token",t),w().defaults.headers.common.Authorization="Bearer ".concat(t)},SET_USER:function(e,t){e.user=t,localStorage.setItem("user",JSON.stringify(t))},GET_NEXT_PREVIOUS:function(e,t){e.startingVal=t.startingVal,e.endingVal=t.endingVal},LOGOUT:function(e){localStorage.removeItem("token"),localStorage.removeItem("user"),e.token="",e.user={},w().defaults.headers.common={}}}});var j=function(){var e=this,t=e._self._c;return t("div",[t("pokemon-list")],1)},M=[],H=(r(8309),function(){var e=this,t=e._self._c;return t("div",[t("ul",e._l(e.pokemonArray,(function(r){return t("li",{key:r.id},[t("router-link",{attrs:{to:{name:"detail",params:{id:r.id,name:r.name,url:r.url}}}},[e._v(" "+e._s(r.name)+" ")])],1)})),0),"0"!=e.$store.state.startingVal?t("button",[e._v("Previous")]):e._e(),e._v("   |   "),t("button",{on:{click:e.getNextPokemon}},[e._v("Next")])])}),G=[],D=(r(2222),w().create({baseURL:"https://pokemon-demo-production.up.railway.app"}));const z={getAllPokemon:function(){return D.get("/pokemon")},getPokemonById:function(e){return D.get("/pokemon/".concat(e))},saveFavorite:function(e){return D.post("/pokemon",e)},getNewPokemon:function(e,t){return D.get("/pokemon/".concat(e,"/").concat(t))}},J={name:"pokemon-list",data:function(){return{pokemonArray:[]}},methods:{getNextPokemon:function(){var e=this,t=this.$store.state.startingVal,r=this.$store.state.endingVal;t+=20,r+=20,z.getNewPokemon(t,r).then((function(o){e.pokemonArray=o.data;var n={startingVal:t,endingVal:r};e.$store.commit("GET_NEXT_PREVIOUS",n)}))}},created:function(){var e=this;z.getAllPokemon().then((function(t){e.pokemonArray=t.data}))}},K=J;var X=(0,a.Z)(K,H,G,!1,null,null,null);const Y=X.exports,Q={name:"pokemon",components:{PokemonList:Y}},W=Q;var ee=(0,a.Z)(W,j,M,!1,null,null,null);const te=ee.exports;var re=function(){var e=this,t=e._self._c;return t("div",[t("pokemon-detail",{attrs:{id:e.$route.params.id,name:e.$route.params.name}})],1)},oe=[],ne=function(){var e=this,t=e._self._c;return t("div",[t("h2",[e._v(e._s(e.name))]),t("p",[e._v("Height: "+e._s(e.pokemon.height))]),t("img",{attrs:{src:e.spriteImgFront}}),e._v("   "),t("img",{attrs:{src:e.spriteImgBack}}),t("div",[t("button",{on:{click:e.savePokemon}},[e._v("Save as Favorite?")])])])},se=[];r(9653);const ae={name:"pokemon-detail",props:{id:Number,String,name:String},data:function(){return{pokemon:{},spriteImgFront:"",spriteImgBack:""}},methods:{savePokemon:function(){var e=this,t={id:this.id,name:this.name,url:this.$route.params.url};z.saveFavorite(t).then((function(){alert("".concat(e.name," has been saved to Favorites ")),e.$router.push({name:"pokemon"})}))}},created:function(){var e=this;z.getPokemonById(this.id).then((function(t){e.pokemon=t.data,e.spriteImgFront=t.data.sprites.front_default,e.spriteImgBack=t.data.sprites.back_default}))}},ie=ae;var ue=(0,a.Z)(ie,ne,se,!1,null,null,null);const le=ue.exports,me={name:"detail",components:{PokemonDetail:le}},ce=me;var pe=(0,a.Z)(ce,re,oe,!1,null,null,null);const de=pe.exports;o.ZP.use(m.ZP);var ve=new m.ZP({mode:"history",base:"/",routes:[{path:"/",name:"home",component:f,meta:{requiresAuth:!0}},{path:"/pokemon",name:"pokemon",component:te,meta:{requiresAuth:!0}},{path:"/detail/:id",name:"detail",component:de,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:x,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:I,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:U,meta:{requiresAuth:!1}}]});ve.beforeEach((function(e,t,r){var o=e.matched.some((function(e){return e.meta.requiresAuth}));o&&""===R.state.token?r("/login"):r()}));const ge=ve;o.ZP.config.productionTip=!1,w().defaults.baseURL="https://pokemon-demo-production.up.railway.app",new o.ZP({router:ge,store:R,render:function(e){return e(l)}}).$mount("#app")}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}r.m=e,(()=>{var e=[];r.O=(t,o,n,s)=>{if(!o){var a=1/0;for(m=0;m<e.length;m++){for(var[o,n,s]=e[m],i=!0,u=0;u<o.length;u++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](o[u])))?o.splice(u--,1):(i=!1,s<a&&(a=s));if(i){e.splice(m--,1);var l=n();void 0!==l&&(t=l)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[o,n,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,[a,i,u]=o,l=0;if(a.some((t=>0!==e[t]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(u)var m=u(r)}for(t&&t(o);l<a.length;l++)s=a[l],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(m)},o=self["webpackChunkfinal_vue_capstone_seed"]=self["webpackChunkfinal_vue_capstone_seed"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=r.O(void 0,[998],(()=>r(5866)));o=r.O(o)})();
//# sourceMappingURL=app.ce30e059.js.map